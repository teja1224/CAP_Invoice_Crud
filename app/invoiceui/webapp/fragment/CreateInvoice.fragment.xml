<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
>
    <Dialog
        id="createDialog"
        title="Create Invoice"
        draggable="true"
        resizable="true"
        contentWidth="700px"
        contentHeight="450px"
    >
        <VBox class="sapUiSmallMargin">
            <Label
                text="Invoice Number"
                required="true"
            />
            <Input
                id="idInvoiceNumber"
                required="true"
            />

            <Label
                text="Date"
                required="true"
            />
            <DatePicker
                id="idDate"
                valueFormat="yyyy-MM-dd"
                required="true"
                class="sapUiSmallMarginBottom"
            />
            <Toolbar>
            <Title text="Invoice Items"/>
            <ToolbarSpacer/>
            <Button text="Add Item"
                press="onAddItemRow"
                type="Emphasized"
                >
                <customData>
                    <core:CustomData key="dialogType" value="create"/>
                </customData>
            </Button>
            </Toolbar>
            <Table id="idItemsTable" inset="false" items="{itemsModel>/}" noDataText="Click 'Add Item' to insert items">
            <columns>
                <Column><Text text="Name"/></Column>
                <Column><Text text="Price"/></Column>
                <Column><Text text="Quantity"/></Column>
                <Column><Text text="Total"/></Column>
                <Column><Text text="Actions"/></Column>
            </columns>
            <items>
                <ColumnListItem>
                <cells>
                    <Input value="{itemsModel>name}" placeholder="Item Name"/>
                    <Input value="{itemsModel>price}" type="Number" liveChange="onItemPriceChange" >
                        <customData>
                            <core:CustomData key="dialogType" value="create"/>
                        </customData>
                    </Input>
                    <Input value="{itemsModel>quantity}" type="Number" liveChange="onItemQuantityChange">
                        <customData>
                            <core:CustomData key="dialogType" value="create"/>
                        </customData>
                    </Input>
                    <Text text="{itemsModel>total}" />
                    <Button icon="sap-icon://delete" press="onDeleteItemRow" type="Reject">
                        <customData>
                            <core:CustomData key="dialogType" value="create" />
                        </customData>
                    </Button>
                </cells>
                </ColumnListItem>
            </items>
            </Table>


            <Label
                text="Amount"
                required="true"
                class="sapUiSmallMarginTop"
            />
            <Input
                id="idAmount"
                type="Number"
                required="true"
                editable="false"
            />

            <Label
                text="Status"
                required="true"
            />
            <Select
                id="idStatus"
                width="100%"
                required="true"
            >
                <items>
                    <core:Item
                        key="Pending"
                        text="Pending"
                    />
                    <core:Item
                        key="Paid"
                        text="Paid"
                    />
                </items>
            </Select>
        </VBox>
        <beginButton>
            <Button
                text="Submit"
                press="onCreateSubmit"
                type="Emphasized"
            />
        </beginButton>
        <endButton>
            <Button
                text="Cancel"
                press="onCreateCancel"
            />
        </endButton>
    </Dialog>
</core:FragmentDefinition>
